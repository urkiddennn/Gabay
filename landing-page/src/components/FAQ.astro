---
// FAQ Component
const faqs = [
    {
        question: "How secure is my data?",
        answer: "Gabay uses OAuth2 strictly for authorization. We only access the data you explicitly permit, and all summaries are processed in-memory. We never store your documents or emails on our servers.",
    },
    {
        question: "Does it support Telegram groups?",
        answer: "Yes, you can add Gabay to your Telegram groups. It can serve as a collaborative assistant, helping your team consolidate notes, check schedules, and search documentation.",
    },
    {
        question: "What makes Gabay faster than others?",
        answer: "We leverage Groq's LPUâ„¢ Inference Engine, which delivers extremely low latency for our agentic workflows. This means your assistant responds almost instantly regardless of task complexity.",
    },
    {
        question: "Can I self-host Gabay?",
        answer: "Gabay is designed with containerization in mind. While we offer a managed service, the architecture is fully Docker-compatible for enterprise self-hosting requirements.",
    },
];
---

<section
    id="faq"
    class="w-full max-w-[800px] mx-auto px-6 py-24 border-t border-border-main/50 mt-12"
>
    <div class="text-center mb-16">
        <h2 class="text-3xl font-bold text-text-main mb-4 tracking-tight">
            Frequently Asked Questions
        </h2>
        <p class="text-text-muted">Everything you need to know about Gabay.</p>
    </div>

    <div class="space-y-4">
        {
            faqs.map((faq, index) => (
                <div class="faq-item border border-border-main rounded-lg bg-bg-surface/50 overflow-hidden transition-all duration-300">
                    <button
                        class="faq-trigger w-full px-8 py-6 text-left flex items-center justify-between group hover:bg-bg-surface transition-colors"
                        aria-expanded="false"
                    >
                        <h3 class="text-lg font-bold text-text-main pr-8">
                            {faq.question}
                        </h3>
                        <svg
                            class="faq-icon w-5 h-5 text-text-muted group-hover:text-blue-500 transition-transform duration-300"
                            fill="none"
                            viewBox="0 0 24 24"
                            stroke="currentColor"
                            stroke-width="2"
                        >
                            <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                d="M19 9l-7 7-7-7"
                            />
                        </svg>
                    </button>
                    <div class="faq-content hidden px-8 pb-6">
                        <p class="text-text-muted leading-relaxed text-sm">
                            {faq.answer}
                        </p>
                    </div>
                </div>
            ))
        }
    </div>
</section>

<script>
    const faqItems = document.querySelectorAll(".faq-item");

    faqItems.forEach((item) => {
        const trigger = item.querySelector(".faq-trigger");
        const content = item.querySelector(".faq-content");
        const icon = item.querySelector(".faq-icon");

        trigger?.addEventListener("click", () => {
            const isOpen = trigger.getAttribute("aria-expanded") === "true";

            // Close others if you want a strict accordion,
            // but usually multiple open is better for UX.
            // Keeping it simple for now.

            trigger.setAttribute("aria-expanded", (!isOpen).toString());
            content?.classList.toggle("hidden");
            icon?.classList.toggle("rotate-180");

            if (!isOpen) {
                item.classList.add("bg-bg-surface", "border-blue-500/30");
            } else {
                item.classList.remove("bg-bg-surface", "border-blue-500/30");
            }
        });
    });
</script>
